<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      *{
        margin: 0;
        padding: 0;
      }

      #ad{
        width: 300px;
        height:300px;
        border: 1px solid red;
        margin: 50 auto;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div id="ad">
      <h1>倒计时<span>10</span>s</h1>
    </div>
    <script type="text/javascript">
    var ad = document.getElementById("ad");
    var span = ad.firstElementChild.firstElementChild;
    var count = 10, timer;

      //使用setTimeout代替setInterval

      /*
      此代码可以保证，只有代码都执行完毕之后，才会启用新的定时器
      器 也就是之后才去排队*/
    function countdown(){
      count--;
      if(count===0){
        ad.style.display="none";
        clearTimeout(timer);//timer是setTimeout的标志值
        return;//如果值为0停止循环
      }
      span.innerHTML=count;
      timer=setTimeout(countdown,1000);
    }

    countdown();//调用函数

    </script>

  </body>
</html>
